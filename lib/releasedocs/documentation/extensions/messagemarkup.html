<h1>Message Markup</h1><p><a href="index.html">Back</a></p><p><a href="https://xmpp.org/extensions/xep-0394.html">Message Markup (XEP-0394)</a> can be used as an alternative to XHTML-IM to style messages, while keeping the body and markup information strictly separated. This implementation can <em>not</em> be used to render message bodies, but will offer a simple to use interface for creating ExtensionElements which encode the markup information.</p><h2>Usage</h2><p>The most important class is the <code>MarkupElement</code> class, which contains a Builder.</p><p>To start creating a Message Markup Extension, call <code>MarkupElement.getBuilder()</code>. (Almost) all method calls documented below will be made on the builder.</p><p>Whenever a method call receives a <code>start</code> and <code>end</code> index, <code>start</code> represents the first character, which is affected by the styling, while <code>end</code> is the character <em>after</em> the last affected character.</p><h3>Inline styling</h3><p>Currently there are 3 styles available: * <em>emphasis</em>, which should be rendered by a client as <em>italic</em>, or <strong>bold</strong> * <em>code</em>, which should be rendered in <code>monospace</code> * <em>deleted</em>, which should be rendered as ~~strikethrough~~.</p><p>Those styles are available by calling <code>builder.setEmphasis(int start, int end)</code>, <code>builder.setDeleted(int start, int end)</code> and <code>builder.setCode(int start, int end)</code>.</p><p>If you want to apply multiple inline styles to a section, you can do the following: <code>
Set&lt;SpanElement.SpanStyle&gt; spanStyles = new HashSet&lt;&gt;();
styles.add(SpanElement.SpanStyle.emphasis);
styles.add(SpanElement.SpanStyle.deleted);
builder.addSpan(start, end, spanStyles);
</code></p><p>Note, that spans cannot overlap one another.</p><h3>Block Level Styling</h3><p>Available block level styles are: * Code blocks, which should be rendered as <code>
blocks
of
code
</code></p>
<ul>
  <li>Itemized lists, which should render as</li>
  <li>Lists</li>
  <li>with possibly multiple</li>
  <li>entries</li>
  <li><p>Block Quotes, which should be rendered by the client  &gt; as quotes, which  &gt;&gt; also can be nested</p></li>
</ul><p>To mark a section as code block, call <code>builder.setCodeBlock(start, end)</code>.</p><p>To create a list, call <code>MarkupElement.Builder.ListBuilder lbuilder = builder.beginList()</code>, which will return a list builder. On this you can call <code>lbuilder.addEntry(start, end)</code> to add an entry.</p><p>Note: If you add an entry, the start value MUST be equal to the end value of the previous added entry!</p><p>To end the list, call <code>lbuilder.endList()</code>, which will return the MessageElement builder.</p><p>To create a block quote, call <code>builder.setBlockQuote(start, end)</code>.</p><p>Note that block level elements MUST NOT overlap each other boundaries, but may be fully contained (nested) within each other.</p>